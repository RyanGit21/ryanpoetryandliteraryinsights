<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYGKTNNN1P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DYGKTNNN1P');
</script>
<title>Post | Ryan's Poetic and Literary Insights</title>
<meta name="description" content="Read this post from Ryan's collection of poetry and literary insights">
<meta name="keywords" content="poetry, literary blog, creative writing, Ryan poetry">
<meta name="author" content="Ryan">
<meta name="robots" content="index, follow">
<meta property="og:type" content="article">
<meta property="og:title" content="Post | Ryan's Poetic and Literary Insights">
<meta property="og:description" content="Read this post from Ryan's collection">
<meta property="og:site_name" content="Ryan's Poetic and Literary Insights">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Post | Ryan's Poetic and Literary Insights">
<meta name="twitter:description" content="Read this post from Ryan's collection">
<link rel="preconnect" href="https://zqmgtnnwrceagkshfapq.supabase.co">
<link rel="dns-prefetch" href="https://zqmgtnnwrceagkshfapq.supabase.co">
<style>
:root{--bg-gradient-start:#667eea;--bg-gradient-end:#764ba2;--card-bg:#ffffff;--text-primary:#333333;--text-secondary:#666666;--text-muted:#999999;--border-color:#ddd;--shadow:rgba(0,0,0,0.2);--accent-blue:#667eea;--accent-red:#ff6b6b}
[data-theme="dark"]{--bg-gradient-start:#1a1a2e;--bg-gradient-end:#16213e;--card-bg:#2a2a3e;--text-primary:#e0e0e0;--text-secondary:#b0b0b0;--text-muted:#808080;--border-color:#444;--shadow:rgba(0,0,0,0.5);--accent-blue:#7d8ef5;--accent-red:#ff8787}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Georgia',serif;background:linear-gradient(135deg,var(--bg-gradient-start),var(--bg-gradient-end));color:var(--text-primary);line-height:1.6;min-height:100vh;transition:background 0.3s ease}
.progress-container{position:fixed;top:0;left:0;width:100%;height:4px;background:rgba(255,255,255,0.2);z-index:1000}
.progress-bar{height:100%;background:linear-gradient(90deg,var(--accent-blue),var(--accent-red));width:0%;transition:width 0.1s ease;box-shadow:0 0 10px rgba(102,126,234,0.5)}
.container{max-width:900px;margin:0 auto;padding:20px;padding-top:30px}
.breadcrumb{color:rgba(255,255,255,0.9);padding:20px;font-size:0.9em;text-align:center}
.breadcrumb a{color:white;text-decoration:none;border-bottom:1px solid rgba(255,255,255,0.3);transition:opacity 0.3s}
.breadcrumb a:hover{opacity:0.7}
.post-full{background:var(--card-bg);border-radius:20px;padding:50px;margin:30px 0;box-shadow:0 10px 40px var(--shadow)}
.post-full.poem{background:linear-gradient(135deg,#ffecd2,#fcb69f);border-left:5px solid var(--accent-red)}
[data-theme="dark"] .post-full.poem{background:linear-gradient(135deg,#3a2a1e,#2e1f14)}
.post-full.article{border-left:5px solid var(--accent-blue)}
.post-full header{border-bottom:2px solid var(--border-color);padding-bottom:25px;margin-bottom:30px}
.post-full h1{color:var(--accent-blue);font-size:2.5em;margin-bottom:15px;line-height:1.3}
.post-full.poem h1{color:var(--accent-red)}
.post-meta{display:flex;gap:20px;flex-wrap:wrap;color:var(--text-muted);font-size:0.95em}
.post-meta time,.reading-time{display:inline-flex;align-items:center;gap:5px}
.reading-time::before{content:"üìñ"}
.post-type-badge{background:var(--accent-blue);color:white;padding:5px 15px;border-radius:20px;font-size:0.85em;font-weight:bold;text-transform:uppercase}
.post-full.poem .post-type-badge{background:var(--accent-red)}
.post-content{font-size:1.15em;line-height:1.9;color:var(--text-secondary)}
.post-content p{margin-bottom:20px}
.post-content p:last-child{margin-bottom:0}
.post-nav-buttons{display:flex;justify-content:space-between;align-items:center;gap:15px;margin:40px 0;padding:20px 0;border-top:2px solid var(--border-color)}
.nav-btn-group{display:flex;gap:10px;width:100%}
.nav-button{padding:12px 24px;background:var(--accent-blue);color:white;border:none;border-radius:30px;cursor:pointer;font-size:1em;font-weight:bold;transition:all 0.3s ease;display:inline-flex;align-items:center;gap:8px;text-decoration:none;box-shadow:0 4px 15px rgba(102,126,234,0.3)}
.nav-button:hover:not(:disabled){background:#5568d3;transform:translateY(-2px);box-shadow:0 6px 20px rgba(102,126,234,0.4)}
.nav-button:disabled{opacity:0.4;cursor:not-allowed;transform:none;box-shadow:none}
.nav-button.prev::before{content:"‚Üê"}
.nav-button.next::after{content:"‚Üí"}
.back-link{text-align:center;margin:20px 0}
.btn{padding:15px 30px;border-radius:8px;cursor:pointer;border:none;font-size:1em;transition:all 0.3s ease;font-weight:bold;text-decoration:none;display:inline-block}
.btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.2)}
.btn-secondary{background:rgba(255,255,255,0.2);color:white;border:2px solid white}
.btn-secondary:hover{background:rgba(255,255,255,0.3)}
.loading-container{color:white;text-align:center;padding:80px 20px;font-size:1.2em}
.spinner{border:4px solid rgba(255,255,255,0.3);border-radius:50%;border-top:4px solid white;width:50px;height:50px;animation:spin 1s linear infinite;margin:20px auto}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.error-container{background:var(--card-bg);border-radius:20px;padding:50px;margin:30px 0;box-shadow:0 10px 40px var(--shadow);text-align:center}
.error-container h2{color:var(--accent-red);margin-bottom:15px}
.error-container p{color:var(--text-secondary);margin-bottom:25px}
.theme-toggle{position:fixed;top:20px;right:20px;width:50px;height:50px;background:rgba(255,255,255,0.2);border:2px solid white;color:white;cursor:pointer;border-radius:50%;z-index:100;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;font-size:1.5em}
.theme-toggle:hover{background:rgba(255,255,255,0.3);transform:rotate(20deg)}
.success,.error{position:fixed;top:20px;left:50%;transform:translateX(-50%);padding:15px 30px;border-radius:8px;color:white;z-index:3000;font-weight:bold;box-shadow:0 5px 20px rgba(0,0,0,0.3);animation:slideDown 0.3s ease}
.success{background:#2ecc71}
.error{background:#e74c3c}
@keyframes slideDown{from{top:-100px;opacity:0}to{top:20px;opacity:1}}
footer{background:rgba(0,0,0,0.3);color:white;text-align:center;padding:30px 20px;margin-top:60px}
footer p{margin:5px 0;opacity:0.9}
footer a{color:white;text-decoration:none;border-bottom:1px solid rgba(255,255,255,0.5);transition:opacity 0.3s}
footer a:hover{opacity:0.7}
@media(max-width:768px){.post-full{padding:30px 25px}.post-full h1{font-size:2em}.post-content{font-size:1.05em}.post-meta{gap:12px;font-size:0.9em}.post-nav-buttons{flex-direction:column}.nav-btn-group{width:100%;justify-content:space-between}.nav-button{flex:1}}
</style>
</head>
<body>
<div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
<button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">üåô</button>
<div class="container">
<nav class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList" aria-label="Breadcrumb">
<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a itemprop="item" href="index.html"><span itemprop="name">Home</span></a><meta itemprop="position" content="1"></span>
<span style="margin:0 8px">‚Ä∫</span>
<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><span itemprop="name">Loading...</span><meta itemprop="position" content="2"></span>
</nav>
<main id="post-container"><div class="loading-container"><div class="spinner"></div><p>Loading post...</p></div></main>
</div>
<footer itemscope itemtype="https://schema.org/WPFooter">
<p>&copy; <span itemprop="copyrightYear">2024</span> <span itemprop="copyrightHolder">Ryan's Poetic and Literary Insights</span></p>
<p>Crafted with ‚ù§Ô∏è and words</p>
<p><a href="mailto:ryanlist35@gmail.com" itemprop="email">Contact</a></p>
</footer>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL="https://zqmgtnnwrceagkshfapq.supabase.co";
const SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpxbWd0bm53cmNlYWdrc2hmYXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY3MDI2ODgsImV4cCI6MjA4MjI3ODY4OH0.Ql5KP6nfOSRzz1Z2eyN6WTqDsfVwZ0e9GKIbePa9eZE";
let sb,allPosts=[],currentPost=null;
function updateProgressBar(){const e=document.getElementById("progressBar");if(!e)return;const t=window.innerHeight,n=document.documentElement.scrollHeight-t,o=window.scrollY,r=o/n*100;e.style.width=Math.min(r,100)+"%"}
window.addEventListener("scroll",updateProgressBar);window.addEventListener("resize",updateProgressBar);
function loadTheme(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e);document.querySelector(".theme-toggle").textContent="dark"===e?"‚òÄÔ∏è":"üåô"}
function toggleTheme(){const e=document.documentElement.getAttribute("data-theme")||"light",t="light"===e?"dark":"light";document.documentElement.setAttribute("data-theme",t);localStorage.setItem("theme",t);document.querySelector(".theme-toggle").textContent="dark"===t?"‚òÄÔ∏è":"üåô"}
function calculateReadingTime(e){return Math.ceil(e.trim().split(/\s+/).length/200)}
function escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}
function formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}
function getCachedPost(e){try{const t=localStorage.getItem("post_"+e);if(!t)return null;const{data:n,timestamp:o}=JSON.parse(t);return Date.now()-o<18e5?n:(localStorage.removeItem("post_"+e),null)}catch(e){return null}}
function setCachedPost(e,t){try{localStorage.setItem("post_"+e,JSON.stringify({data:t,timestamp:Date.now()}))}catch(e){}}
function getCachedAllPosts(){try{const e=localStorage.getItem("blog_posts_all");if(!e)return null;const{data:t,timestamp:n}=JSON.parse(e);return Date.now()-n<18e5?t:null}catch(e){return null}}
function setCachedAllPosts(e){try{localStorage.setItem("blog_posts_all",JSON.stringify({data:e,timestamp:Date.now()}))}catch(e){}}
async function loadAllPosts(){const e=getCachedAllPosts();if(e&&Array.isArray(e)&&e.length>0)return void(allPosts=e);try{const{data:e,error:t}=await sb.from("posts").select("id,title,type,created_at").order("created_at",{ascending:!1});!t&&e&&Array.isArray(e)&&(allPosts=e,setCachedAllPosts(e))}catch(e){console.error("Failed to load posts:",e)}}
function getAdjacentPosts(e){if(0===allPosts.length)return{prev:null,next:null};const t=parseInt(e),n=allPosts.findIndex(e=>parseInt(e.id)===t);return-1===n?{prev:null,next:null}:{prev:n>0?allPosts[n-1]:null,next:n<allPosts.length-1?allPosts[n+1]:null}}
function renderNavigationButtons(e){const{prev:t,next:n}=getAdjacentPosts(e);return`<div class="post-nav-buttons"><div class="nav-btn-group"><button class="nav-button prev" ${t?"":'disabled'} ${t?`onclick="location.href='post.html?id=${t.id}'"`:""}>Previous</button><button class="nav-button next" ${n?"":'disabled'} ${n?`onclick="location.href='post.html?id=${n.id}'"`:""}>Next</button></div></div>`}
async function fetchPostInBackground(e){try{const{data:t,error:n}=await sb.from("posts").select("*").eq("id",e).single();!n&&t&&setCachedPost(e,t)}catch(e){}}
function initSupabase(){window.supabase?(sb=window.supabase.createClient(SUPABASE_URL,SUPABASE_KEY),loadPost()):setTimeout(initSupabase,100)}
async function loadPost(){const e=new URLSearchParams(window.location.search).get("id");if(!e)return void showError("No post ID provided");await loadAllPosts();const t=getCachedPost(e);if(t)return currentPost=t,displayPost(t),void fetchPostInBackground(e);try{const{data:t,error:n}=await Promise.race([sb.from("posts").select("*").eq("id",e).single(),new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout")),8e3))]);if(n)throw n;if(!t)throw new Error("Post not found");currentPost=t,setCachedPost(e,t),displayPost(t)}catch(t){const n=getCachedPost(e);n?(currentPost=n,displayPost(n),showMessage("Showing cached version","error")):showError("Failed to load post: "+t.message)}}
function displayPost(e){document.title=`${e.title} | Ryan's Poetic and Literary Insights`;const t=document.querySelector('meta[name="description"]');t&&(t.content=e.content.substring(0,150));const n=document.querySelector('meta[property="og:title"]');n&&(n.content=e.title);const o=document.querySelector('meta[property="og:description"]');o&&(o.content=e.content.substring(0,150));const r=document.querySelector(".breadcrumb");r&&(r.innerHTML=`<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a itemprop="item" href="index.html"><span itemprop="name">Home</span></a><meta itemprop="position" content="1"></span><span style="margin:0 8px">‚Ä∫</span><span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><span itemprop="name">${escapeHtml(e.title)}</span><meta itemprop="position" content="2"></span>`);const a=calculateReadingTime(e.content),s=e.content.split("\n").map(e=>e.trim()?`<p>${escapeHtml(e)}</p>`:"").join(""),i=renderNavigationButtons(e.id),c=`<article class="post-full ${escapeHtml(e.type)}" itemscope itemtype="https://schema.org/BlogPosting"><header><h1 itemprop="headline">${escapeHtml(e.title)}</h1><div class="post-meta"><time itemprop="datePublished" datetime="${e.created_at}">${formatDate(e.created_at)}</time><span class="reading-time" itemprop="timeRequired" content="PT${a}M">${a} min read</span><span class="post-type-badge">${e.type}</span></div></header><div class="post-content" itemprop="articleBody">${s}</div><meta itemprop="author" content="Ryan"><meta itemprop="dateModified" content="${e.created_at}"></article>${i}<div class="back-link"><a href="index.html" class="btn btn-secondary">‚Üê Back to all posts</a></div>`;document.getElementById("post-container").innerHTML=c,setTimeout(updateProgressBar,100),window.requestIdleCallback?requestIdleCallback(()=>injectStructuredData(e),{timeout:1e3}):setTimeout(()=>injectStructuredData(e),0)}
function injectStructuredData(e){const t=document.getElementById("post-schema");t&&t.remove();const n={"@context":"https://schema.org","@type":"BlogPosting",headline:e.title,datePublished:e.created_at,dateModified:e.created_at,author:{"@type":"Person",name:"Ryan"},publisher:{"@type":"Person",name:"Ryan"},description:e.content.substring(0,150),articleBody:e.content,wordCount:e.content.split(/\s+/).length,inLanguage:"en-US"},o=document.createElement("script");o.type="application/ld+json",o.id="post-schema",o.textContent=JSON.stringify(n),document.head.appendChild(o)}
function showError(e){document.getElementById("post-container").innerHTML=`<div class="error-container"><h2>Oops!</h2><p>${escapeHtml(e)}</p><a href="index.html" class="btn btn-secondary">‚Üê Back to all posts</a></div>`}
function showMessage(e,t){const n=document.createElement("div");n.className=t,n.textContent=e,n.setAttribute("role","alert"),document.body.appendChild(n),setTimeout(()=>n.remove(),3e3)}
loadTheme();initSupabase();
</script>
</body>
</html>
